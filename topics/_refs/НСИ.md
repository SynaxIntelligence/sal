# НСИ

Нормативно-справочная информация Компании (НСИ) - совокупность основных и ссылочных данных,
используемых в Информационных системах Компании.

## Описание сервиса

Экземпляры объектов НСИ предназначены для применения работниками структурных подразделений Компании и ОГ,
а также внешними пользователями в соответствии с предоставленными полномочиями в процессе эксплуатации
<emphasis>%product_short_name%</emphasis>.
Для формирования у всех участников ИТ-проекта единого представления о подходах к реализации и последующей
эксплуатации полного перечня экземпляров объектов НСИ, необходимых для функционирования продукта ИТ-проекта
<emphasis>%product_full_name%</emphasis> разработан документ «Проектное решение «Реализация объектов НСИ».

В Системе предусмотрен просмотр состава НСИ.

Данный раздел находится по маршруту <ui-path>Главная / НСИ</ui-path>
или вызывается активацией управляющего элемента горизонтальной панели меню

<a href="https://xd.adobe.com/view/747a45c8-a9ed-4841-a836-42d3edf42ac2-2129/screen/67366772-5c85-4306-828e-a5f42a5d3771/"></a>

<ui-path> НСИ / Реестр НСИ </ui-path>.

Доступ к форме определен в соответствии с полномочиями пользователей.

<img src="nsi_navigation.png" alt="Навигация в НСИ" style="block" border-effect="rounded"/>

## Глоссарий

Термин 1
: Описание.

Термин 2
: Описание.
```javascript
[
    {
        "id": "61" ,
        "code": "LIST_SUB"
    }
]
```

## Функциональная модель

## Порядок загрузки справочников с помощью универсального загрузчика

<procedure title="Загрузка справочников" id="load-a-directory" collapsible="true">
    <step>
        <p>Составить описание атрибутов справочника в json:</p>
            <code-block lang="json" collapsible="true" default-state="collapsed" collapsed-title="json">
            {
      "code": "PR_KSC_OBJECT_SYSTEM",
      "name": "Объекты системы",
      "directoryAttributes": [
        {
          "attributeCode": "code"
        },
        {
          "attributeCode": "name"
        },
        {
          "attributeCode": "parent_code"
        }       
      ],
      "directoryData": null,
      "directoryProperties": {
        "status": true,
        "dataSource": "ИР КСЦ на МТР",
        "abilityEdit": "read_only",
        "methodEdit": "method_edit",
        "hierarchicalFeature": true,
        "codePrefix": "code_prefix",
        "codeType": "code_type",
        "lastCode": "last_code",
        "codeLength": "code_length"
      }
}
            </code-block>
    </step>
    <step>
        <p>Загрузить атрибутивное описание справочника на сервер с помощью api-endpoint.</p>
        <api-endpoint openapi-path="./../../1147_directory/directory-api/src/main/resources/swagger.yaml" endpoint="/directory" method="POST"/>        
    </step>
</procedure>

## Спецификация Docker

Компоненты <emphasis>%product_short_name%</emphasis> на базе СИБИ устанавливаются на серверы в составе контейнеров Docker
(микросервис НСИ реализованы в контейнере EKSC-DIRECTORY).

<tabs>
<tab title="Docker compose">
<code-block collapsed-title="Docker compose" lang="yaml" collapsible="true" default-state="collapsed">
eksc-directory:
    container_name: eksc-directory
    deploy:
      resources:
        limits:
          memory: 512M
        reservations:
          memory: 128M
    build:
      context: ../../1147_directory
      dockerfile: ../1147_config/docker/directory.Dockerfile      
    environment:
      - "SPRING_PROFILES_ACTIVE=local"    
    ports:
      - "8090:8090"
      - "63940:5005"
    networks:
      - eksc-network
    volumes:
      - ./data/eksc/filesload:/data/filestorage/
    profiles:
      - back
</code-block>
</tab>
<tab title="Docker image">
<code-block collapsed-title="Docker image" lang="docker" src="./../../1147_config/docker/directory.Dockerfile" collapsible="true" default-state="collapsed">  
</code-block>
</tab>
</tabs>
   


